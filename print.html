<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Radxa Documentation</title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="intro.html">Introduction</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Quick Start Guide</li><li class="chapter-item expanded "><a href="getStart.html"><strong aria-hidden="true">1.</strong> Getting Started</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Rock3A.html"><strong aria-hidden="true">1.1.</strong> ROCK 3A</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">1.2.</strong> ROCK 5B</div></li></ol></li><li class="chapter-item expanded "><a href="Imagedownload.html"><strong aria-hidden="true">2.</strong> Download System Image</a></li><li class="chapter-item expanded "><a href="SDflash.html"><strong aria-hidden="true">3.</strong> Install System to microSD</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.</strong> Install System to Alternative Locations</div></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">RadxaOS</li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.</strong> Linux User Manual</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="SerialConsole.html"><strong aria-hidden="true">5.1.</strong> Connect to Serial Console</a></li><li class="chapter-item expanded "><a href="EnableSSHAcess.html"><strong aria-hidden="true">5.2.</strong> Enable SSH Access</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.</strong> RadxaOS Features</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">6.1.</strong> Set GPIO Header Functions</div></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">Software Development</li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.</strong> Building System Image</div></li><li class="chapter-item expanded "><a href="software/dev/index.html"><strong aria-hidden="true">8.</strong> Development Reference</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="software/dev/ubuild.html"><strong aria-hidden="true">8.1.</strong> ubuild</a></li><li class="chapter-item expanded "><a href="software/dev/lbuild.html"><strong aria-hidden="true">8.2.</strong> lbuild</a></li><li class="chapter-item expanded "><a href="software/dev/rbuild.html"><strong aria-hidden="true">8.3.</strong> rbuild</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">Radxa Hardware</li><li class="chapter-item expanded "><a href="3Ahardware.html"><strong aria-hidden="true">9.</strong> ROCK 3A</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.</strong> ROCK 5B</div></li><li class="spacer"></li><li class="chapter-item expanded affix "><a href="contributions.html">Contributors</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Radxa Documentation</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/radxa-doc/radxa-doc.github.io/tree/main" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p>Everything big starts small, and this is the first page of our documentation.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rock-3"><a class="header" href="#rock-3">ROCK 3</a></h1>
<hr />
<p>ROCK3 is a series of Rockchip RK3566/RK3568 based SBC(Single Board Computer) and Compute Module by Radxa. It can run android or some Linux distributions.</p>
<p>ROCK3 series features a quad core Cortex-A55 ARM processor, 32bit 3200Mb/s LPDDR4, up to 4K@60 HDMI, MIPI DSI, MIPI CSI, 3.5mm jack with mic, USB Port, GbE LAN, PCIe 3.0, PCIe 2.0, 40-pin color expansion header, RTC. Also, ROCK3 supports USB PD and QC powering.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getting-started-with-rock-3a"><a class="header" href="#getting-started-with-rock-3a">Getting Started with ROCK 3A</a></h1>
<p>This guide is designed for ROCK 3A enthusiast. The purpose is to learn about ROCK 3A as well as how to prepare and set up for basic use.
When you get a board, you need to know what model it is and which hardware version it is.
The information is printed in the top side of the board.
We will introduce the board information as much as possible.</p>
<h1 id="what-you-need"><a class="header" href="#what-you-need">What you need</a></h1>
<h2 id="necessary"><a class="header" href="#necessary">Necessary</a></h2>
<ul>
<li>
<p>ROCK 3A main board</p>
</li>
<li>
<p>One of the Storage media below:</p>
<ul>
<li>microSD, larger than 8GB</li>
<li>eMMC module, larger than 8GB</li>
</ul>
</li>
<li>
<p>Power supply</p>
<ul>
<li>The ROCK 3 is powered by Type-C port and has a wide range of input voltage, from 9V to 21V. ROCK 3 supports USB Type-C PD 2.0 with 9V/2A, 12V/2A, 15V/2A and 20V/2A. Besides, the Pi supports QC 3.0/2.0  with 9V/2A and 12V/1.5A.</li>
<li>The Type-C cable you using needs to support data communication. We call it USB Type-C charging data cable.</li>
</ul>
</li>
<li>
<p>USB Keyboard and Mouse</p>
<ul>
<li>With four USB-A connectors, ROCK 3 can be equipped with a full sized keyboard and mouse.</li>
</ul>
</li>
<li>
<p>Monitor and HDMI Cable</p>
<ul>
<li>ROCK 3 is equipped with a full sized HDMI connector. HDMI capable monitor is recommended.</li>
<li>HDMI EDID display data is used to determine the best display resolution. On monitors and TVs that support 1080p (or 4K) this resolution will be selected. If 1080p is not supported the next available resolution reported by EDID will be used. This selected mode will work with MOST but not all monitors/TVs.</li>
</ul>
</li>
<li>
<p>USB to TTL serial cable</p>
<ul>
<li>ROCK 3 exports a dedicated serial console for CPU, which can access the low level debug message.</li>
</ul>
</li>
<li>
<p>USB Male A to Male A cable</p>
<ul>
<li>If you want write image on ROCK 3 from USB OTG port or use fastboot/adb commands you need an USB Male A to Male A cable to connect ROCK 3 and PC.</li>
</ul>
</li>
</ul>
<h2 id="optional"><a class="header" href="#optional">Optional</a></h2>
<ul>
<li>
<p>microSD Card Reader</p>
<ul>
<li>For flashing the image into microSD Card </li>
</ul>
</li>
<li>
<p>USB type A to type A cable</p>
<ul>
<li>This is needed for fastboot/adb commands.</li>
</ul>
</li>
<li>
<p>USB to TTL serial cable</p>
</li>
<li>
<p>This is needed for serial console.</p>
</li>
<li>
<p>Ethernet cable</p>
</li>
<li>
<p>ROCK 3 supports Internet access via WIFI or Ethernet.</p>
</li>
<li>
<p>An Ethernet cable is used to connect your ROCK 3 to a local network and  the Internet.</p>
</li>
<li>
<p>Camera Module</p>
<ul>
<li>ROCK 3 supports  camera function.</li>
</ul>
</li>
<li>
<p>LCD Module</p>
<ul>
<li>ROCK 3 supports LCD display function.</li>
</ul>
</li>
<li>
<p>Audio cable</p>
<ul>
<li>Audio can be played through speaker or headphones using a standard 3.5mm jack.</li>
</ul>
</li>
<li>
<p><a href="https://wiki.radxa.com/Rock3/hardware/wifi"> WiFi/BT Cards</a></p>
</li>
</ul>
<h1 id="starting-the-board-for-the-first-time"><a class="header" href="#starting-the-board-for-the-first-time">Starting the board for the first time</a></h1>
<p>ROCK 3A can be started with eMMC Module or μSD Card. Now, you are presented with three options when installing your new operating system onto your ROCK 3A. </p>
<h1 id="prepare"><a class="header" href="#prepare">Prepare</a></h1>
<ul>
<li>
<p>When starting system with eMMC Module<br />
(Option a) Insert the eMMC Module into ROCK Pi eMMC USB Reader. Then plug the ROCK Pi eMMC USB Reader into host PC.<br />
(Option b) Insert eMMC Module into eMMC to μSD card converter board. Insert the converter board into μSD Card Reader. Then plug the Card Reader into host PC.</p>
</li>
<li>
<p>When starting system with μSD Card
(Option c) Insert the μSD Card into μSD Card Reader. Then plug the Card Reader into host PC.</p>
</li>
</ul>
<h2 id="image-flash-tool"><a class="header" href="#image-flash-tool">Image flash tool</a></h2>
<ul>
<li>
<p>Download the flash tool, etcher, from <a href="https://wiki.radxa.com/Rock3/downloads">downloads</a>. Choose the right version for your host operation system. Here we operate on host Ubuntu 16.04.</p>
</li>
<li>
<p>Do update your etcher to latest edition according to etcher's instruction after you launch it. Otherwise, your pc might malfunction during flashing.</p>
</li>
</ul>
<h2 id="network-setup"><a class="header" href="#network-setup">Network setup</a></h2>
<h3 id="ethernet"><a class="header" href="#ethernet">Ethernet</a></h3>
<p>ROCK 3A is equipped with one 1G Ethernet port.
You can use a network cable (one end connected to the external network port or route) to connect your ROCK 3 to the network.
The ROCK 3 will automatically configure the network for your surfing on the Internet.</p>
<h4 id="to-test-the-ethernet-we-need-to-follow-the-steps"><a class="header" href="#to-test-the-ethernet-we-need-to-follow-the-steps">To test the Ethernet, we need to follow the steps:</a></h4>
<ul>
<li>
<p>Switch to super user mode by command
<code>$ sudo su</code></p>
</li>
<li>
<p>Check whether the Ethernet is normal by command, ifconfig, which would show us a network card, eth0, and the Ethernet IP address. Also, use tool, ping, to connect to a normal domain. </p>
</li>
</ul>
<pre><code> $ ifconfig
 $ ping www.baidu.com
</code></pre>
<ul>
<li>If failed to connect to a normal domain. , try 
<code>$ sudo dhclient eth0</code></li>
</ul>
<h3 id="wifi"><a class="header" href="#wifi">WIFI</a></h3>
<p>ROCK 3 Model A doesn't come with on board WiFi/BT. Currently the following WiFi Cards are tested and supported by the ROCK 3 Model A.</p>
<table><thead><tr><th>Model</th><th>Chip</th><th>WiFi</th><th>BT</th><th>Others</th></tr></thead><tbody>
<tr><td>ROCK Pi Wireless Module A1</td><td>BCM43436B0</td><td>2.4G, 36Mbps</td><td>4.2</td><td></td></tr>
<tr><td>ROCK Pi Wireless Module A2</td><td>BCM43456</td><td>2.4G&amp;5G, 200Mbps</td><td>5.0</td><td></td></tr>
<tr><td>ROCK Pi Wireless Module A3</td><td>BCM43598</td><td>2.4G&amp;5G, &gt;400Mbps</td><td>5.0</td><td>Support RSDB</td></tr>
<tr><td>ROCK Pi Wireless Module A6</td><td>BCM43752</td><td>2.4G&amp;5G, WiFi 6</td><td>5.0</td><td></td></tr>
<tr><td>Realtek RTL8723BE</td><td>RTL8723BE</td><td>2.4G</td><td>4.0</td><td></td></tr>
<tr><td>Realtek RTL8822CE</td><td>RTL8822CE</td><td>2.4G&amp;5G</td><td>5.0</td><td></td></tr>
<tr><td>Intel 0MHK36</td><td>Intel 3165</td><td>2.4G&amp;5G</td><td>4.2</td><td></td></tr>
<tr><td>Intel 7265NGW</td><td>Intel 7265</td><td>2.4G&amp;5G</td><td>4.2</td><td></td></tr>
</tbody></table>
<ul>
<li>More Intel WiFi cards are supported in theory as long as the kernel versions requirements &lt; 4.19 for vendor kernel. The WiFi firmware should be put under '''/lib/firmware''' manually. Check <a href="https://www.intel.com/content/www/us/en/support/articles/000005511/wireless.html">Intel website</a> for the WiFi card model and download fw.</li>
<li>Check whether your sbc support WIFI either through Hardware or command line. Rock 3A doesn't have wifi module.</li>
</ul>
<h4 id="to-test-the-wifi-performance-we-need-to-follow-the-steps"><a class="header" href="#to-test-the-wifi-performance-we-need-to-follow-the-steps">To test the WIFI performance, we need to follow the steps:</a></h4>
<ul>
<li>
<p>Switch to super user mode
<code> $ sudo su</code></p>
</li>
<li>
<p>Open the WIFI
<code> $ nmcli r wifi on</code></p>
</li>
<li>
<p>Scan WIFI
<code> $ nmcli dev wifi</code></p>
</li>
<li>
<p>Connect to WIFI network
<code>$ nmcli dev wifi connect &quot;wifi_name&quot; password &quot;wifi_password&quot;</code></p>
</li>
<li>
<p>Test WIFI perpormance by tool iperf3.</p>
</li>
</ul>
<hr />
<h3 id="now-you-can-check-your-network-state"><a class="header" href="#now-you-can-check-your-network-state">Now you can check your Network state</a></h3>
<p>*Look at network configure:
<code>$ sudo ifconfig</code></p>
<p>*Test network:
<code>$ping -c 5 www.google.com</code></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="image--download-guide"><a class="header" href="#image--download-guide">Image  download guide</a></h1>
<ul>
<li>Download the official Ubuntu/Debian system image from <a href="https://wiki.radxa.com/Rock3/downloads">downloads</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="install-system-to-microsd"><a class="header" href="#install-system-to-microsd">Install System to microSD</a></h1>
<ul>
<li>After unpacking the system image package, we run the tool by executing the command</li>
</ul>
<p><code>./etcher-etcher-electron-1.4.5-x86_64.AppImage</code></p>
<p>If you get an error message: &quot;No polkit authentication agent found&quot; you can try and start it with sudo, but do know that this is running the tool as '''root'''.</p>
<ul>
<li>
<p>In the etcher window, click '''Select image'''.
<img src="pic/Linux_etcher_select_image.png" alt="image" /></p>
</li>
<li>
<p>In the etcher window, click '''Select Drive'''.
<img src="pic/linux_etcher_select_driver.png" alt="image" /></p>
</li>
<li>
<p>In the etcher window, click '''Flash'''.<br />
If you don't use the etcher's latest edition or you use corrupted image package, etcher may malfunction in this step.</p>
</li>
</ul>
<p><img src="pic/Linux_etcher_select_flash_button.png" alt="image" /></p>
<ul>
<li>In the etcher window, once it shows us Flash Complete! It is done and can be put into the RockPi.</li>
</ul>
<p><img src="pic/Linux_etcher_show_complete.png" alt="image" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="connect-to-serial-console"><a class="header" href="#connect-to-serial-console">Connect to Serial Console</a></h1>
<hr />
<p>ROCK 3 exports a dedicated serial console, which can access the low level debug message.</p>
<h2 id="requirement"><a class="header" href="#requirement">Requirement</a></h2>
<ul>
<li>ROCK 3</li>
<li>USB Type-C power adapter and USB Type-C charging data cable</li>
<li>Host PC with Windows or Linux</li>
<li>USB to TTL serial cable
<ul>
<li>The definition of each pin of USB to TTL cable is showing like this:</li>
</ul>
</li>
</ul>
<p><img src="pic/750px-Usb2ttl-cable-definition.jpeg" alt="DefOfPin" /></p>
<h2 id="note"><a class="header" href="#note">Note</a></h2>
<ul>
<li>
<p>The default baudrate of ROCK 3 is 1500000(1.5Mbps), please check if your USB to TTL cable support 1.5Mbps baudrate. Some model of <a href="https://www.silabs.com/products/interface/usb-bridges">CP210X</a> and <a href="http://www.prolific.com.tw/US/ShowProduct.aspx?pcid=41">PL2303x</a>  have baudrate limitation,and the <a href="http://www.ftdichip.com/Products/ICs/FT232R.htm">FT232RL</a> have some <a href="https://forum.radxa.com/t/u-boot-cant-boot-with-serial-console-attached/7684/"> power issue</a>(20211112), please check the specified model. We also tested that some cable does not work well. Make sure choose a high quality one. The instructions below use a <a href="http://wch-ic.com/products/CH340.html">CH340_series</a> based cable.</p>
</li>
<li>
<p>It seems that the serial tool on macOS platform can not support custom baudrate such as 1.5Mbps due to driver restriction. If you know how to set custom baudrate on macOS, please add an item here to show your findings.</p>
</li>
</ul>
<h2 id="connection"><a class="header" href="#connection">Connection</a></h2>
<p>Connect the USB to TTL serial cable as below. '''Don't connect the red wire.'''</p>
<table><thead><tr><th>! ROCK 3</th><th>&lt;---&gt;</th><th>USB to TTL cable</th></tr></thead><tbody>
<tr><td>RX(pin 10)</td><td>&lt;---&gt;</td><td>Green wire</td></tr>
<tr><td>TX(pin 8)</td><td>&lt;---&gt;</td><td>White wire</td></tr>
<tr><td>GND(pin 6)</td><td>&lt;---&gt;</td><td>Black wire</td></tr>
</tbody></table>
<p><img src="pic/750px-3a-serial-connection.jpg" alt="3a-serial-connection.jpg " /></p>
<h2 id="serial-setting-on-host-pc"><a class="header" href="#serial-setting-on-host-pc">Serial setting on host PC</a></h2>
<p>The default serial setting for ROCK 3 u-boot and kernel console is:</p>
<pre><code class="language-baudrate: 1500000">    data bit: 8
    stop bit: 1
    parity  : none
    flow control: none
</code></pre>
<h2 id="linux"><a class="header" href="#linux">Linux</a></h2>
<p>Minicom is the serial tool that supports wide range baud rate.</p>
<p>Install minicom:</p>
<pre><code class="language-sudo apt-get update">    sudo apt-get install minicom
</code></pre>
<p>Plug in the USB to TTL cable, kernel <code>dmesg | tail</code> should show the following device:</p>
<pre><code class="language-[1036835.654076] usb 1-6.4.3: new full-speed USB device number 103 using xhci_hcd">    [1036835.755730] usb 1-6.4.3: New USB device found, idVendor=0403, idProduct=6001
    [1036835.755732] usb 1-6.4.3: New USB device strings: Mfr=1, Product=2, SerialNumber=0
    [1036835.755733] usb 1-6.4.3: Product: USB &lt;-&gt; Serial
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="enable-ssh-access"><a class="header" href="#enable-ssh-access">Enable SSH Access</a></h1>
<p>SSH server  is enabled on port 22 of ROCK 3A default image. </p>
<p>Please use <a href="https://angryip.org/">angryip</a> to find your board IP address.</p>
<p>To access ROCK 3A by SSH, try </p>
<pre><code>ping rockpie.local
ssh rock@rockpie.local
</code></pre>
<p>or if your router/network doesn't support Local Domain, you need to check your network/router administrator page and look for the ROCK 3A ip address.</p>
<pre><code>ping ip-of-device
ssh rock@ip-of-device
</code></pre>
<p>Note: You can also get the IP of ROCK 3A from option 1 if you can not access network administrator page.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="development"><a class="header" href="#development">Development</a></h1>
<h2 id="dependency"><a class="header" href="#dependency">Dependency</a></h2>
<p>Arch/Manjaro:</p>
<pre><code>sudo yay -Syu --noconfirm --needed base-devel git uboot-tools aarch64-linux-gnu-gcc cpio dpkg fpm docker multipath-tools
</code></pre>
<p>Debian/Ubuntu:</p>
<pre><code>sudo apt update
sudo apt install -y build-essential git u-boot-tools gcc-aarch64-linux-gnu cpio ruby docker multipath-tools
sudo gem install fpm
</code></pre>
<h2 id="additional-system-config"><a class="header" href="#additional-system-config">Additional system config</a></h2>
<pre><code>sudo usermod -a -G docker $UID
sudo systemctl enable docker
sudo reboot
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ubuild"><a class="header" href="#ubuild">ubuild</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="lbuild"><a class="header" href="#lbuild">lbuild</a></h1>
<h2 id="forkconf"><a class="header" href="#forkconf"><code>fork.conf</code></a></h2>
<p><code>fork.conf</code> is the kernel fork configuration file. This file is mandatory and is sourced early by <code>lbuild</code>. You can override many options but below are some most commonly used (and supported) settings for this file:</p>
<p><code>LINUX_GIT</code> Specify upstream kernel repo.</p>
<p><code>LINUX_COMMIT</code> or <code>LINUX_BRANCH</code> or <code>LINUX_TAG</code> Specify the exact kernel revision. The first defined option in the listed order will be used.</p>
<p><code>LINUX_DEFCONFIG</code> Specify the defconfig used for building. Default to <code>defconfig</code>.</p>
<p><code>SUPPORTED_BOARDS</code> Specify the supported boards list, which is comma separated without space. This is likely to be changed in the future to use a virtual package instead.</p>
<h2 id="kconfigconf"><a class="header" href="#kconfigconf"><code>kconfig.conf</code></a></h2>
<p><code>kconfig.conf</code> is a kernel configuration file. This file should mirrors <code>defconfig</code> format.</p>
<p>Currently supported setting: <code>CONFIG_SAMPLE=[ynm]</code> or <code># CONFIG_SAMPLE is not set</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rbuild"><a class="header" href="#rbuild">rbuild</a></h1>
<h2 id="folder-structure"><a class="header" href="#folder-structure">Folder structure</a></h2>
<pre><code>.github/            GitHub workflow related files.
.rootfs/            Untracked folder containing rootfs generated by the last build.
                    Can be used to speed up image generation the next time.

common/             rbuild scripts
    .packages/      Untracked folder for soft linking local packages
    flavors/        Package lists for various supported flavors
    overlays/       Various overlays for directly applying onto rootfs
    add_repo.yaml   Adding custom apt repo in rootfs
    clean.yaml      Common clean up script
    hack_install_deb.yaml
                    HACK for installing local package.
                    Only for debug use. Repo should not contain prebuild deb packages.
    hw-info.conf    Stores SoC's vendor and each vendor's preferred partition table type.
    image.yaml      Core script for deploying a rootfs to disk image.
                    Also install device specific kernel and firmware.
    rootfs.sh       Prepare the system for first boot.
    rootfs.yaml     Core script for generating a device-agnostic rootfs.
    sdboot.sh       Additional script for setting systemd-boot.

.gitignore          gitignore file
configs/            Board specific configs.
docs/               Documentation.
action.yaml         GitHub custom action file. Allow this repo to be used in GitHub Workflow.
rbuild              Main script.
README.md           Project readme.
</code></pre>
<h2 id="how-to-add-new-boards"><a class="header" href="#how-to-add-new-boards">How to add new boards?</a></h2>
<p>Enabling new board in rbuild is simple, as most jobs should have already been done before touching this repo.</p>
<p>You should first update <a href="software/dev/./lbuild.html"><code>lbuild</code></a> and <a href="software/dev/./ubuild.html"><code>ubuild</code></a> to have them generate <code>linux-images-&lt;board-name&gt;</code> and <code>u-boot-&lt;board-name&gt;</code> deb packages. Do not mismatch those packages with different boards as the script might call files under board specific folder. In case of Linux kernel the package's name should not be touched, and <code>linux-images-&lt;board-name&gt;</code> needs to be added to deb's <code>Provides</code> property using <code>SUPPORTED_BOARDS</code> variable in <a href="software/dev/./lbuild.html#forkconf"><code>fork.conf</code></a>.</p>
<p>Once you have both of them available, you can start building system image to test your kernel and U-Boot. Copy both files to <code>rbuild</code> folder (this folder will be mounted in <code>docker</code> so if those files are outside of <code>rbuild</code> folder the script won't be able to access them). Create <code>board-name.conf</code> under <code>configs</code>, with one line <code>SOC=system_on_chip_model</code> (model number in lower case). If you are adding Rockchip based device, their SoC name usually starts with <code>rk</code> and can be recognized by <code>common/hw-info.conf</code>. For non-standard name (Rockchip PX30, Amlogic based SoC), update <code>hw-info.conf</code>'s <code>get_soc_family</code> function. For entirely new vendor, you will also need to update <code>get_partition_type</code> function and review any mention of <code>soc_family</code> within the script.</p>
<p>Once you create the board config file (yes, it's that simple), run the following command:</p>
<pre><code>./rbuild -r -d -k linux-image-board-name.deb -f u-boot-board-name.deb board-name
</code></pre>
<p><code>-r</code> means reusing rootfs generated in previous run. This saves a lot of time when testing multiple devices or different kernels. <code>-d</code> means dropping into a debug shell if any step fails. <code>-k</code> and <code>-f</code> specify the custom kernel and <strong>f</strong>irmware (currently U-Boot) you are going to use. This will build a CLI image by default.</p>
<p>You can then test your image. Once you are sure your kernel and firmware are up to sniff, create new repos in <code>radxa-pkg</code> organization to automatically generate packages for them (or update the existing one), create new releases, and update <code>radxa-repo/apt</code> to include them in the apt repo. You can then build image without <code>-k</code> and <code>-f</code> options.</p>
<p>Now you can update <code>radxa-build</code> organization to have the image auto generated over there.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rock-3a-hardware-features"><a class="header" href="#rock-3a-hardware-features">ROCK 3A hardware Features</a></h1>
<table><thead><tr><th>feature</th><th>description</th></tr></thead><tbody>
<tr><td>Model</td><td>Rock 3 Model A</td></tr>
<tr><td>SoC</td><td>RK3568</td></tr>
<tr><td>CPU</td><td>Quad-core Cortex-A55, freqency 2Ghz</td></tr>
<tr><td>GPU</td><td>Mali G52</td></tr>
<tr><td>NPU</td><td>0.8TOPS NPU</td></tr>
<tr><td>Memory</td><td>2/4/8GB LPDDR4 3200MT/s, up to 1560MHz</td></tr>
<tr><td>Storage</td><td>eMMC <br /> μSD card (μSD slot supports up to 128 GB μSD card) <br /> M.2 SSD (M.2 connector supports up to 8TB M2 NVME SSD)</td></tr>
<tr><td>Display</td><td>HDMI 2.0 up to 4k*2k@60 <br />MIPI DSI 2 lanes via FPC connector<br />Any two of HDMI, MIPI DSI can work at the same time, support mirror mode or extend mode.</td></tr>
<tr><td>Audio</td><td>3.5mm jack with mic<br />HD codec that supports up to 24-bit/96KHz audio.</td></tr>
<tr><td>Camera</td><td>MIPI CSI 2 lanes via FPC connector, support up to 800 MP camera.</td></tr>
<tr><td>Wirelss</td><td>None. Optional ROCK Pi Wireless Module</td></tr>
<tr><td>USB</td><td>USB 3.0 OTG X1, hardware switch for host/device switch, front one<br />USB 3.0 HOST X1<br />USB 2.0 HOST X2</td></tr>
<tr><td>Ethernet</td><td>GbE LAN with Power over Ethernet (PoE) support<br />additional HAT is required for powering from PoE</td></tr>
<tr><td>IO</td><td>40-pin expansion header<br />5 x UART<br />1 x SPI bus<br />2 x I2C bus<br />6 x PWM<br />1 x ADC<br />1 x CAN<br />6 x GPIO<br />2 x 5V DC power in<br />1 x 3.3V DC power in</td></tr>
<tr><td>Others</td><td>RTC<br />RTC battery connector for time backup(optional)</td></tr>
<tr><td>Power</td><td>USB PD, support USB Type C PD 2.0, 9V/2A, 12V/2A, 15V/2A, 20V/2A.<br />Qualcomm® Quick ChargeTM: Supports QC 3.0/2.0 adapter, 9V/2A, 12V/1.5A</td></tr>
<tr><td>Size</td><td>85mm x 56mm</td></tr>
</tbody></table>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contributors"><a class="header" href="#contributors">Contributors</a></h1>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
    </body>
</html>
